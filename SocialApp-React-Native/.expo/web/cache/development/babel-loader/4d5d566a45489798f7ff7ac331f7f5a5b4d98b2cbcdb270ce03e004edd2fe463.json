{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\belgacem\\\\OneDrive\\\\Bureau\\\\projet02\\\\SocialApp-React-Native\\\\screens\\\\user\\\\UserProfileScreen.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useCallback, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableNativeFeedback from \"react-native-web/dist/exports/TouchableNativeFeedback\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Container, Content, Button } from 'native-base';\nvar _Dimensions$get = Dimensions.get('window'),\n  height = _Dimensions$get.height,\n  width = _Dimensions$get.width;\nimport { Octicons } from '@expo/vector-icons';\nimport Colors from \"../../constants/Colors\";\nimport * as usersActions from \"../../store/actions/users\";\nimport * as postsActions from \"../../store/actions/posts\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ENV from \"../../env\";\nimport MenuItem from \"../../components/UI/MenuItem\";\nimport { showMessage } from \"react-native-flash-message\";\nimport VerifiedUser from \"../../constants/VerifiedUser\";\nvar UserProfileScreen = function UserProfileScreen(props) {\n  var route = props.route;\n  var loggedInUserId = useSelector(function (state) {\n    return state.auth.user._id;\n  });\n  var allUsers = useSelector(function (state) {\n    return state.users.allUsers;\n  });\n  var loggedInUser = allUsers.filter(function (u) {\n    return u._id === loggedInUserId;\n  })[0];\n  var userId;\n  if (route.params && route.params.userId) {\n    userId = route.params.userId;\n  } else {\n    userId = useSelector(function (state) {\n      return state.auth.user._id;\n    });\n  }\n  var users = useSelector(function (state) {\n    return state.users.allUsers;\n  });\n  var posts = useSelector(function (state) {\n    return state.posts.allPosts;\n  });\n  var currUser = users.filter(function (u) {\n    return u._id === userId;\n  })[0];\n  var currUserPosts = posts.filter(function (p) {\n    return p.postedBy._id === userId;\n  });\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isRefreshing = _useState2[0],\n    setIsRefreshing = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isFollowLoading = _useState6[0],\n    setIsFollowLoading = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    imageUri = _useState8[0],\n    setImageUri = _useState8[1];\n  var dispatch = useDispatch();\n  var loadUsers = useCallback(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsRefreshing(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(dispatch(usersActions.fetchUsers()));\n          case 4:\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(dispatch(postsActions.fetchPosts()));\n          case 6:\n            _context.next = 11;\n            break;\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n          case 11:\n            setIsRefreshing(false);\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 8]], Promise);\n  }, [dispatch, setIsLoading]);\n  var onImageErrorHandler = function onImageErrorHandler() {\n    setImageUri(ENV.defaultImageUri);\n  };\n  var checkFollow = function checkFollow(userId) {\n    var isFollowed = loggedInUser.following.filter(function (f) {\n      return f._id === userId;\n    }).length !== 0;\n    return isFollowed;\n  };\n  var followUserHandler = function followUserHandler() {\n    var user;\n    return _regeneratorRuntime.async(function followUserHandler$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            user = _objectSpread({}, currUser);\n            delete user.created;\n            delete user.followers;\n            delete user.following;\n            if (!checkFollow(user._id)) {\n              _context2.next = 10;\n              break;\n            }\n            showMessage({\n              message: \"Your have unfollowed \" + user.name + \".\",\n              type: \"warning\",\n              duration: 3000,\n              icon: {\n                icon: \"warning\",\n                position: 'left'\n              }\n            });\n            _context2.next = 8;\n            return _regeneratorRuntime.awrap(dispatch(usersActions.unfollowUser(user)));\n          case 8:\n            _context2.next = 13;\n            break;\n          case 10:\n            showMessage({\n              message: \"Your are now following \" + user.name + \".\",\n              type: \"success\",\n              duration: 3000,\n              icon: {\n                icon: \"success\",\n                position: 'left'\n              }\n            });\n            _context2.next = 13;\n            return _regeneratorRuntime.awrap(dispatch(usersActions.followUser(user)));\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n  var renderSectionOne = function renderSectionOne() {\n    if (currUserPosts.length === 0) {\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center',\n          borderTopColor: '#c2c2c2',\n          borderTopWidth: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 20,\n          fontWeight: 'bold',\n          marginTop: 25\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      }, \"No Posts\"), currUser._id === loggedInUserId && React.createElement(Button, {\n        style: {\n          backgroundColor: Colors.brightBlue,\n          padding: 10,\n          borderRadius: 25,\n          marginTop: 15\n        },\n        onPress: function onPress() {\n          return props.navigation.navigate('AddPost');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }\n      }, \"Create Post\")));\n    }\n    return currUserPosts.map(function (post, index) {\n      return React.createElement(TouchableOpacity, {\n        key: index,\n        onPress: function onPress() {\n          return props.navigation.navigate('UserPosts', {\n            userId: userId,\n            postIndex: index,\n            fromUserProfile: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: [{\n          width: width / 3\n        }, {\n          height: width / 3\n        }, {\n          marginBottom: 2\n        }, index % 3 !== 0 ? {\n          paddingLeft: 2\n        } : {\n          paddingLeft: 0\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: {\n          flex: 1,\n          alignSelf: 'stretch',\n          width: undefined,\n          height: undefined,\n          backgroundColor: '#c2c2c2'\n        },\n        source: post.updated ? {\n          uri: ENV.apiUrl + \"/post/photo/\" + post._id + \"?\" + new Date(post.updated)\n        } : {\n          uri: ENV.apiUrl + \"/post/photo/\" + post._id\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      })));\n    });\n  };\n  var renderSection = function renderSection() {\n    return React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        flexWrap: 'wrap'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, renderSectionOne());\n  };\n  if (isLoading) {\n    return React.createElement(View, {\n      style: styles.centered,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: Colors.primary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }));\n  }\n  var TouchableComp = TouchableOpacity;\n  if (Platform.OS === 'android' && Platform.Version >= 21) {\n    TouchableComp = TouchableNativeFeedback;\n  }\n  return React.createElement(Container, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, React.createElement(Content, {\n    refreshControl: React.createElement(RefreshControl, {\n      refreshing: isRefreshing,\n      onRefresh: loadUsers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      paddingTop: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'flex-start'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: imageUri || ENV.apiUrl + \"/user/photo/\" + currUser._id + \"?\" + new Date(currUser.updated)\n    },\n    onError: onImageErrorHandler,\n    style: {\n      width: 75,\n      height: 75,\n      borderRadius: 37.5,\n      backgroundColor: \"#c2c2c2\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 29\n    }\n  })), React.createElement(View, {\n    style: {\n      flex: 3\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-around',\n      alignItems: 'flex-end'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 29\n    }\n  }, React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 33\n    }\n  }, React.createElement(TouchableComp, {\n    background: Platform.OS === 'ios' ? undefined : TouchableNativeFeedback.Ripple('#c2c2c2', true),\n    onPress: function onPress() {\n      return props.navigation.navigate('UserPosts', {\n        userId: userId,\n        postIndex: 0,\n        fromUserProfile: true\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 37\n    }\n  }, React.createElement(View, {\n    style: {\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 41\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 45\n    }\n  }, currUserPosts.length), React.createElement(Text, {\n    style: {\n      fontSize: 12,\n      color: 'grey'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 45\n    }\n  }, \"Posts\")))), React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 33\n    }\n  }, React.createElement(TouchableComp, {\n    background: Platform.OS === 'ios' ? undefined : TouchableNativeFeedback.Ripple('#c2c2c2', true),\n    onPress: function onPress() {\n      return props.navigation.navigate('UserStats', {\n        activeTab: 0,\n        currUser: currUser\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 37\n    }\n  }, React.createElement(View, {\n    style: {\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 41\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 45\n    }\n  }, currUser.followers.length), React.createElement(Text, {\n    style: {\n      fontSize: 12,\n      color: 'grey'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 45\n    }\n  }, \"Followers\")))), React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 33\n    }\n  }, React.createElement(TouchableComp, {\n    background: Platform.OS === 'ios' ? undefined : TouchableNativeFeedback.Ripple('#c2c2c2', true),\n    onPress: function onPress() {\n      return props.navigation.navigate('UserStats', {\n        activeTab: 1,\n        currUser: currUser\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 37\n    }\n  }, React.createElement(View, {\n    style: {\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 41\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 45\n    }\n  }, currUser.following.length), React.createElement(Text, {\n    style: {\n      fontSize: 12,\n      color: 'grey'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 45\n    }\n  }, \"Following\"))))), userId === loggedInUserId ? React.createElement(View, {\n    style: {\n      alignItems: 'flex-start',\n      paddingTop: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 37\n    }\n  }, React.createElement(Button, {\n    onPress: function onPress() {\n      return props.navigation.navigate('EditProfile');\n    },\n    bordered: true,\n    dark: true,\n    style: {\n      flex: 1,\n      marginLeft: 10,\n      marginRight: 10,\n      justifyContent: 'center',\n      height: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 41\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 45\n    }\n  }, \"Edit Profile\")))) : React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'flex-start',\n      paddingTop: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 33\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      flexDirection: 'row'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 37\n    }\n  }, React.createElement(Button, {\n    onPress: followUserHandler,\n    bordered: true,\n    dark: true,\n    style: {\n      flex: 2,\n      marginLeft: 10,\n      marginRight: 10,\n      justifyContent: 'center',\n      height: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 41\n    }\n  }, checkFollow(currUser._id) ? React.createElement(React.Fragment, null, isFollowLoading ? React.createElement(ActivityIndicator, {\n    size: \"small\",\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 57\n    }\n  }) : React.createElement(Text, {\n    style: {\n      color: 'black'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 57\n    }\n  }, \"Unfollow\")) : React.createElement(React.Fragment, null, isFollowLoading ? React.createElement(ActivityIndicator, {\n    size: \"small\",\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 57\n    }\n  }) : React.createElement(Text, {\n    style: {\n      color: 'black'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 57\n    }\n  }, \"Follow\"))))))), React.createElement(View, {\n    style: {\n      paddingBottom: 10,\n      paddingTop: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 21\n    }\n  }, React.createElement(View, {\n    style: {\n      paddingHorizontal: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: 'bold',\n      fontSize: 18\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 29\n    }\n  }, currUser.name + \" \", VerifiedUser.verifiedUsersId.includes(currUser._id) && React.createElement(Octicons, {\n    name: \"verified\",\n    size: 20,\n    color: Colors.brightBlue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 92\n    }\n  })), currUser.about && React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 33\n    }\n  }, currUser.about, \" \"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 29\n    }\n  }, currUser.email)))), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 17\n    }\n  }, renderSection())));\n};\nexport var screenOptions = function screenOptions(navData) {\n  var routeParams = navData.route.params ? navData.route.params : {};\n  if (!routeParams.name) {\n    return {\n      headerTitle: routeParams.name ? routeParams.name : \"Profile\",\n      headerRight: function headerRight() {\n        return React.createElement(MenuItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }\n        });\n      }\n    };\n  } else {\n    return {\n      headerTitle: routeParams.name ? routeParams.name : \"Profile\"\n    };\n  }\n};\nvar styles = StyleSheet.create({\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  container: {\n    flex: 1,\n    backgroundColor: 'white'\n  }\n});\nexport default UserProfileScreen;","map":{"version":3,"names":["React","useCallback","useState","View","Text","StyleSheet","Image","Dimensions","RefreshControl","ActivityIndicator","TouchableOpacity","TouchableNativeFeedback","Platform","Container","Content","Button","_Dimensions$get","get","height","width","Octicons","Colors","usersActions","postsActions","useDispatch","useSelector","ENV","MenuItem","showMessage","VerifiedUser","UserProfileScreen","props","route","loggedInUserId","state","auth","user","_id","allUsers","users","loggedInUser","filter","u","userId","params","posts","allPosts","currUser","currUserPosts","p","postedBy","_useState","_useState2","_slicedToArray","isRefreshing","setIsRefreshing","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","isFollowLoading","setIsFollowLoading","_useState7","_useState8","imageUri","setImageUri","dispatch","loadUsers","_callee","_regeneratorRuntime","async","_callee$","_context","prev","next","awrap","fetchUsers","fetchPosts","t0","console","log","stop","Promise","onImageErrorHandler","defaultImageUri","checkFollow","isFollowed","following","f","length","followUserHandler","followUserHandler$","_context2","_objectSpread","created","followers","message","name","type","duration","icon","position","unfollowUser","followUser","renderSectionOne","createElement","style","flex","justifyContent","alignItems","borderTopColor","borderTopWidth","__source","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","fontWeight","marginTop","backgroundColor","brightBlue","padding","borderRadius","onPress","navigation","navigate","color","map","post","index","key","postIndex","fromUserProfile","marginBottom","paddingLeft","alignSelf","undefined","source","updated","uri","apiUrl","Date","renderSection","flexDirection","flexWrap","styles","centered","size","primary","TouchableComp","OS","Version","container","refreshControl","refreshing","onRefresh","paddingTop","onError","background","Ripple","activeTab","bordered","dark","marginLeft","marginRight","Fragment","paddingBottom","paddingHorizontal","verifiedUsersId","includes","about","email","screenOptions","navData","routeParams","headerTitle","headerRight","create"],"sources":["C:/Users/belgacem/OneDrive/Bureau/projet02/SocialApp-React-Native/screens/user/UserProfileScreen.js"],"sourcesContent":["import React, {useCallback, useState} from \"react\";\r\nimport {\r\n    View,\r\n    Text,\r\n    StyleSheet,\r\n    Image,\r\n    Dimensions,\r\n    RefreshControl,\r\n    ActivityIndicator,\r\n    TouchableOpacity,\r\n    TouchableNativeFeedback,\r\n    Platform,\r\n    \r\n} from \"react-native\";\r\n\r\nimport { Container, Content, Button } from 'native-base'\r\nvar { height, width } = Dimensions.get('window');\r\nimport { Octicons } from '@expo/vector-icons';\r\n\r\n\r\nimport Colors from '../../constants/Colors';\r\n\r\nimport * as usersActions from '../../store/actions/users';\r\nimport * as postsActions from '../../store/actions/posts';\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ENV from '../../env';\r\nimport MenuItem from \"../../components/UI/MenuItem\";\r\nimport { showMessage } from \"react-native-flash-message\";\r\nimport VerifiedUser from \"../../constants/VerifiedUser\";\r\n\r\n\r\nconst UserProfileScreen = (props) => {\r\n    const { route } = props;\r\n    const loggedInUserId = useSelector(state => state.auth.user._id);\r\n    const allUsers = useSelector(state => state.users.allUsers);\r\n    const loggedInUser = allUsers.filter(u => u._id === loggedInUserId)[0];\r\n\r\n    let userId;\r\n\r\n    if(route.params && route.params.userId){\r\n        userId = route.params.userId;\r\n    } else {\r\n        userId = useSelector(state => state.auth.user._id);\r\n    }\r\n    \r\n    const users = useSelector(state => state.users.allUsers);\r\n    const posts = useSelector(state => state.posts.allPosts);\r\n    const currUser = users.filter(u => u._id === userId)[0];\r\n    const currUserPosts = posts.filter(p => p.postedBy._id === userId);\r\n    \r\n    const [isRefreshing,setIsRefreshing] = useState(false);\r\n    const [isLoading,  setIsLoading] = useState(false);\r\n    const [isFollowLoading,  setIsFollowLoading] = useState(false);\r\n    const [imageUri, setImageUri] = useState('');\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const loadUsers = useCallback(async () => {\r\n        setIsRefreshing(true);\r\n        try {\r\n            await dispatch(usersActions.fetchUsers());\r\n            await dispatch(postsActions.fetchPosts());\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n        setIsRefreshing(false);\r\n    }, [dispatch, setIsLoading]);\r\n\r\n    const onImageErrorHandler = () => {\r\n        setImageUri(ENV.defaultImageUri)\r\n    }\r\n\r\n\r\n    const checkFollow = (userId) => {\r\n        const isFollowed = loggedInUser.following.filter(f => f._id === userId).length !== 0;\r\n        return isFollowed;\r\n    }\r\n\r\n    const followUserHandler = async () => {\r\n        let user = {...currUser};\r\n        delete user.created;\r\n        delete user.followers;\r\n        delete user.following;\r\n        // setIsFollowLoading(true);\r\n        \r\n        if(checkFollow(user._id)){\r\n            showMessage({\r\n                message: `Your have unfollowed ${user.name}.`,\r\n                type: \"warning\",\r\n                duration: 3000,\r\n                icon: { icon: \"warning\", position: 'left' }\r\n            });\r\n            await dispatch(usersActions.unfollowUser(user))\r\n        } else {\r\n            showMessage({\r\n                message: `Your are now following ${user.name}.`,\r\n                type: \"success\",\r\n                duration: 3000,\r\n                icon: { icon: \"success\", position: 'left' }\r\n            });\r\n            await dispatch(usersActions.followUser(user))\r\n        }\r\n        // setIsFollowLoading(false);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const renderSectionOne = () => {\r\n        if(currUserPosts.length === 0 ){\r\n            return(\r\n                <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', borderTopColor: '#c2c2c2', borderTopWidth: 1 }} >   \r\n                    <Text style={{ fontSize: 20, fontWeight: 'bold', marginTop: 25 }} >No Posts</Text>\r\n                    { currUser._id === loggedInUserId && (\r\n                        <Button\r\n                            style={{ backgroundColor: Colors.brightBlue, padding: 10, borderRadius: 25, marginTop: 15 }}\r\n                            onPress={() => props.navigation.navigate('AddPost')}\r\n                        >\r\n                            <Text style={{ color: '#fff' }} >Create Post</Text>\r\n                        </Button>\r\n                    ) }\r\n                    \r\n                </View>\r\n            )\r\n        }\r\n        return currUserPosts.map((post, index) => {\r\n            return (\r\n                <TouchableOpacity \r\n                    key={index}\r\n                    onPress={() => props.navigation.navigate('UserPosts', { userId: userId, postIndex: index, fromUserProfile: true })}\r\n                >\r\n                    <View  style={[{ width: (width) / 3 }, { height: (width) / 3 }, { marginBottom: 2 }, index % 3 !== 0 ? { paddingLeft: 2 } : { paddingLeft: 0 }]}>\r\n                        <Image \r\n                            style={{\r\n                                flex: 1,\r\n                                alignSelf: 'stretch',\r\n                                width: undefined,\r\n                                height: undefined,\r\n                                backgroundColor: '#c2c2c2'\r\n                            }}\r\n                            source={\r\n                                post.updated ? (\r\n                                    { uri: `${ENV.apiUrl}/post/photo/${post._id}?${new Date(post.updated)}` }\r\n                                ) : (\r\n                                    { uri: `${ENV.apiUrl}/post/photo/${post._id}` }\r\n                                )\r\n                            }\r\n                        />\r\n                    </View>\r\n                </TouchableOpacity>\r\n            )\r\n        })\r\n    }\r\n\r\n    const renderSection = () => {\r\n            return (\r\n                <View style={{ flexDirection: 'row', flexWrap: 'wrap' }}>\r\n                    {renderSectionOne()}\r\n                </View>\r\n            )\r\n    }\r\n\r\n\r\n    if(isLoading){\r\n        return (\r\n            <View style={styles.centered} >\r\n                <ActivityIndicator size='large' color={Colors.primary} />\r\n            </View>\r\n        );\r\n    }\r\n\r\n\r\n    let TouchableComp = TouchableOpacity;\r\n    if(Platform.OS === 'android' && Platform.Version >= 21){\r\n        TouchableComp = TouchableNativeFeedback;\r\n    }\r\n\r\n\r\n    return (\r\n        <Container style={styles.container} >\r\n            <Content \r\n                refreshControl={\r\n                    <RefreshControl refreshing={isRefreshing} onRefresh={loadUsers} /> \r\n                } \r\n            >\r\n                <View style={{ paddingTop: 20 }}>\r\n                    {/** User Photo Stats**/}\r\n                    <View style={{ flexDirection: 'row' }}>\r\n                        {/**User photo takes 1/3rd of view horizontally **/}\r\n                        <View\r\n                            style={{ flex: 1, alignItems: 'center', justifyContent: 'flex-start' }}>\r\n                            <Image \r\n                                source={{ uri: imageUri || `${ENV.apiUrl}/user/photo/${currUser._id}?${new Date(currUser.updated)}` }}\r\n                                onError={onImageErrorHandler}\r\n                                style={{ width: 75, height: 75, borderRadius: 37.5, backgroundColor: \"#c2c2c2\" }}\r\n                            />\r\n                        </View>\r\n                        {/**User Stats take 2/3rd of view horizontally **/}\r\n                        <View style={{ flex: 3 }}>\r\n                            {/** Stats **/}\r\n                            <View\r\n                                style={{\r\n                                    flexDirection: 'row',\r\n                                    justifyContent: 'space-around',\r\n                                    alignItems: 'flex-end'\r\n                                }}\r\n                            >\r\n                                <View style={{ alignItems: 'center' }}>\r\n                                    <TouchableComp\r\n                                        background={ Platform.OS === 'ios' ? undefined : TouchableNativeFeedback.Ripple('#c2c2c2', true) }\r\n                                        onPress={() => props.navigation.navigate(\r\n                                            'UserPosts', \r\n                                            { userId: userId, postIndex: 0, fromUserProfile: true }\r\n                                        )}\r\n                                    >\r\n                                        <View style={{ justifyContent: 'center', alignItems: 'center' }} >\r\n                                            <Text style={{ fontSize: 18 }} >{currUserPosts.length}</Text>\r\n                                            <Text style={{ fontSize: 12, color: 'grey' }}>Posts</Text>\r\n                                        </View>\r\n                                    </TouchableComp>\r\n                                </View>\r\n\r\n                                <View style={{ alignItems: 'center' }}>\r\n                                    <TouchableComp\r\n                                        background={ Platform.OS === 'ios' ? undefined : TouchableNativeFeedback.Ripple('#c2c2c2', true) }\r\n                                        onPress={() => props.navigation.navigate(\r\n                                            'UserStats',\r\n                                            { activeTab: 0, currUser: currUser }\r\n                                        )}\r\n                                    >\r\n                                        <View style={{ justifyContent: 'center', alignItems: 'center' }} >\r\n                                            <Text style={{ fontSize: 18 }} >{currUser.followers.length}</Text>\r\n                                            <Text style={{ fontSize: 12, color: 'grey' }}>Followers</Text>\r\n                                        </View>\r\n                                    </TouchableComp>\r\n                                </View>\r\n\r\n                                <View style={{ alignItems: 'center' }}>\r\n                                    <TouchableComp\r\n                                        background={ Platform.OS === 'ios' ? undefined : TouchableNativeFeedback.Ripple('#c2c2c2', true) }\r\n                                        onPress={() => props.navigation.navigate(\r\n                                            'UserStats',\r\n                                            { activeTab: 1, currUser: currUser }\r\n                                        )}\r\n                                    >\r\n                                        <View style={{ justifyContent: 'center', alignItems: 'center' }} >\r\n                                            <Text style={{ fontSize: 18 }} >{currUser.following.length}</Text>\r\n                                            <Text style={{ fontSize: 12, color: 'grey' }}>Following</Text>\r\n                                        </View>\r\n                                    </TouchableComp>\r\n                                </View>\r\n                            </View>\r\n                            {/**\r\n                             * Edit profile and Settings Buttons **/}\r\n\r\n                            { userId === loggedInUserId ? (\r\n                                <View style={{ alignItems: 'flex-start', paddingTop: 10 }}>\r\n                                    <View\r\n                                        style={{ flexDirection: 'row' }}>\r\n                                        <Button\r\n                                            onPress={() => props.navigation.navigate('EditProfile')}\r\n                                            bordered\r\n                                            dark\r\n                                            style={{ flex: 1, marginLeft: 10, marginRight: 10, justifyContent: 'center', height: 30 }}\r\n                                        >\r\n                                            <Text>Edit Profile</Text>\r\n                                        </Button>\r\n                                    </View>\r\n                                </View>\r\n                            ) : (\r\n                                <View style={{ flexDirection: 'row', alignItems: 'flex-start', paddingTop: 10 }}>\r\n                                    <TouchableOpacity\r\n                                        style={{ flexDirection: 'row' }}>\r\n                                        <Button \r\n                                            onPress={followUserHandler}\r\n                                            bordered \r\n                                            dark\r\n                                            style={{ flex: 2, marginLeft: 10, marginRight: 10, justifyContent: 'center', height: 30 }}\r\n                                        >\r\n                                            { checkFollow(currUser._id) ? (\r\n                                                <>\r\n                                                    { isFollowLoading ? (\r\n                                                        <ActivityIndicator size=\"small\" color=\"#fff\" />\r\n                                                    ) : (\r\n                                                        <Text style={{ color: 'black' }} >Unfollow</Text>\r\n                                                    ) }\r\n                                                </>\r\n                                            ) : (\r\n                                                <>\r\n                                                    { isFollowLoading ? (\r\n                                                        <ActivityIndicator size=\"small\" color=\"#fff\" />\r\n                                                    ) : (\r\n                                                        <Text style={{ color: 'black' }} >Follow</Text>\r\n                                                    ) }\r\n                                                </>\r\n                                            ) }\r\n                                        </Button>\r\n                                    </TouchableOpacity>\r\n                                </View>\r\n                            ) }\r\n                            {/**End edit profile**/}\r\n                        </View>\r\n                    </View>\r\n\r\n                    <View style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n                        <View style={{ paddingHorizontal: 10 }} >\r\n                            <Text style={{ fontWeight: 'bold', fontSize: 18 }}>\r\n                                {currUser.name + \" \"} \r\n                                {\r\n                                    VerifiedUser.verifiedUsersId.includes(currUser._id) && <Octicons name=\"verified\" size={20} color={Colors.brightBlue} />\r\n                                }\r\n                            </Text>\r\n                            \r\n                            { currUser.about && (\r\n                                <Text>{currUser.about} </Text>\r\n                            ) }\r\n                            <Text>{currUser.email}</Text>\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n\r\n\r\n                <View>\r\n                    {renderSection()}\r\n                </View>\r\n            </Content>\r\n        \r\n        </Container >\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const screenOptions = (navData) => {\r\n\r\n    const routeParams = navData.route.params ? navData.route.params : {};\r\n    if(!routeParams.name){\r\n        return{\r\n            headerTitle: routeParams.name ? routeParams.name : \"Profile\",\r\n            headerRight: () => (\r\n                <MenuItem />\r\n            )\r\n        }\r\n    } else {\r\n        return{\r\n            headerTitle: routeParams.name ? routeParams.name : \"Profile\",\r\n        }\r\n    }\r\n\r\n    \r\n}\r\n\r\n\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    centered: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: 'white'\r\n    }\r\n});\r\n\r\nexport default UserProfileScreen;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}