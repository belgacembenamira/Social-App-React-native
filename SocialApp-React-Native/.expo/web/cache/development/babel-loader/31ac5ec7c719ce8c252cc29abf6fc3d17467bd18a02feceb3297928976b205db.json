{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\belgacem\\\\OneDrive\\\\Bureau\\\\projet02\\\\SocialApp-React-Native\\\\node_modules\\\\react-native-gifted-chat\\\\lib\\\\MessageText.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ParsedText from 'react-native-parsed-text';\nimport Communications from 'react-native-communications';\nimport { StylePropType } from \"./utils\";\nvar WWW_URL_PATTERN = /^www\\./i;\nvar textStyle = {\n  fontSize: 16,\n  lineHeight: 20,\n  marginTop: 5,\n  marginBottom: 5,\n  marginLeft: 10,\n  marginRight: 10\n};\nvar styles = {\n  left: StyleSheet.create({\n    container: {},\n    text: _objectSpread({\n      color: 'black'\n    }, textStyle),\n    link: {\n      color: 'black',\n      textDecorationLine: 'underline'\n    }\n  }),\n  right: StyleSheet.create({\n    container: {},\n    text: _objectSpread({\n      color: 'white'\n    }, textStyle),\n    link: {\n      color: 'white',\n      textDecorationLine: 'underline'\n    }\n  })\n};\nvar DEFAULT_OPTION_TITLES = ['Call', 'Text', 'Cancel'];\nvar MessageText = function (_React$Component) {\n  _inherits(MessageText, _React$Component);\n  var _super = _createSuper(MessageText);\n  function MessageText() {\n    var _this;\n    _classCallCheck(this, MessageText);\n    _this = _super.apply(this, arguments);\n    _this.onUrlPress = function (url) {\n      if (WWW_URL_PATTERN.test(url)) {\n        _this.onUrlPress(\"http://\" + url);\n      } else {\n        Linking.canOpenURL(url).then(function (supported) {\n          if (!supported) {\n            console.error('No handler for URL:', url);\n          } else {\n            Linking.openURL(url);\n          }\n        });\n      }\n    };\n    _this.onPhonePress = function (phone) {\n      var optionTitles = _this.props.optionTitles;\n      var options = optionTitles && optionTitles.length > 0 ? optionTitles.slice(0, 3) : DEFAULT_OPTION_TITLES;\n      var cancelButtonIndex = options.length - 1;\n      _this.context.actionSheet().showActionSheetWithOptions({\n        options: options,\n        cancelButtonIndex: cancelButtonIndex\n      }, function (buttonIndex) {\n        switch (buttonIndex) {\n          case 0:\n            Communications.phonecall(phone, true);\n            break;\n          case 1:\n            Communications.text(phone);\n            break;\n          default:\n            break;\n        }\n      });\n    };\n    _this.onEmailPress = function (email) {\n      return Communications.email([email], null, null, null, null);\n    };\n    return _this;\n  }\n  _createClass(MessageText, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return !!this.props.currentMessage && !!nextProps.currentMessage && this.props.currentMessage.text !== nextProps.currentMessage.text;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var linkStyle = [styles[this.props.position].link, this.props.linkStyle && this.props.linkStyle[this.props.position]];\n      return React.createElement(View, {\n        style: [styles[this.props.position].container, this.props.containerStyle && this.props.containerStyle[this.props.position]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, React.createElement(ParsedText, {\n        style: [styles[this.props.position].text, this.props.textStyle && this.props.textStyle[this.props.position], this.props.customTextStyle],\n        parse: [].concat(_toConsumableArray(this.props.parsePatterns(linkStyle)), [{\n          type: 'url',\n          style: linkStyle,\n          onPress: this.onUrlPress\n        }, {\n          type: 'phone',\n          style: linkStyle,\n          onPress: this.onPhonePress\n        }, {\n          type: 'email',\n          style: linkStyle,\n          onPress: this.onEmailPress\n        }]),\n        childrenProps: _objectSpread({}, this.props.textProps),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }\n      }, this.props.currentMessage.text));\n    }\n  }]);\n  return MessageText;\n}(React.Component);\nexport { MessageText as default };\nMessageText.contextTypes = {\n  actionSheet: PropTypes.func\n};\nMessageText.defaultProps = {\n  position: 'left',\n  optionTitles: DEFAULT_OPTION_TITLES,\n  currentMessage: {\n    text: ''\n  },\n  containerStyle: {},\n  textStyle: {},\n  linkStyle: {},\n  customTextStyle: {},\n  textProps: {},\n  parsePatterns: function parsePatterns() {\n    return [];\n  }\n};\nMessageText.propTypes = {\n  position: PropTypes.oneOf(['left', 'right']),\n  optionTitles: PropTypes.arrayOf(PropTypes.string),\n  currentMessage: PropTypes.object,\n  containerStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType\n  }),\n  textStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType\n  }),\n  linkStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType\n  }),\n  parsePatterns: PropTypes.func,\n  textProps: PropTypes.object,\n  customTextStyle: StylePropType\n};","map":{"version":3,"names":["PropTypes","React","Linking","StyleSheet","View","ParsedText","Communications","StylePropType","WWW_URL_PATTERN","textStyle","fontSize","lineHeight","marginTop","marginBottom","marginLeft","marginRight","styles","left","create","container","text","_objectSpread","color","link","textDecorationLine","right","DEFAULT_OPTION_TITLES","MessageText","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","onUrlPress","url","test","canOpenURL","then","supported","console","error","openURL","onPhonePress","phone","optionTitles","props","options","length","slice","cancelButtonIndex","context","actionSheet","showActionSheetWithOptions","buttonIndex","phonecall","onEmailPress","email","_createClass","key","value","shouldComponentUpdate","nextProps","currentMessage","render","linkStyle","position","createElement","style","containerStyle","__source","fileName","_jsxFileName","lineNumber","columnNumber","customTextStyle","parse","concat","_toConsumableArray","parsePatterns","type","onPress","childrenProps","textProps","Component","default","contextTypes","func","defaultProps","propTypes","oneOf","arrayOf","string","object","shape"],"sources":["../src/MessageText.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}